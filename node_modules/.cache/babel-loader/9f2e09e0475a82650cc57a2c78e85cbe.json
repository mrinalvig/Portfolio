{"ast":null,"code":"function Animation() {\n  this.name = \"\";\n  this.nFrames = 0;\n  this.loop = false;\n  this.intervals = [];\n  this.frames = [];\n} // animSet -> Set of animations\n\n\n_c = Animation;\n\nfunction Animator(animSet, obj) {\n  this.sheetURL = animSet.sheetURL;\n  this.timer = 0; // Time of current frame\n\n  this.frame = 0; // Current frame\n\n  this.anim = null; // Current animation\n\n  this.anims = {}; // List of animations\n\n  this.playing = false; // Whether the animation is playing\n  // Load in the animations from the given animation object\n\n  this.cell = new Vector2(animSet.cell[0], animSet.cell[1]);\n  this.sheet = new Vector2(animSet.sheet[0], animSet.sheet[1]);\n\n  for (var a in animSet.anims) {\n    var anim = new Animation();\n    anim.name = a;\n    anim.nFrames = animSet.anims[a].nFrames;\n    anim.loop = animSet.anims[a].loop;\n    anim.intervals = animSet.anims[a].intervals;\n\n    for (var j = 0; j < animSet.anims[a].frames.length; j++) {\n      anim.frames.push(new Vector2(animSet.anims[a].frames[j][0], animSet.anims[a].frames[j][1]));\n    }\n\n    this.anims[a] = anim;\n  } // Set up the GameObject for the animation\n\n\n  obj.spriteSize = this.cell;\n  obj.spriteOff = new Vector2(animSet.offset[0], animSet.offset[1]);\n  obj.elem.style.backgroundImage = \"url('\" + this.sheetURL + \"')\";\n  obj.elem.style.width = scaleFact * obj.spriteSize.x + \"px\";\n  obj.elem.style.height = scaleFact * obj.spriteSize.y + \"px\";\n  obj.elem.style.backgroundSize = scaleFact * this.sheet.x + \"px \" + scaleFact * this.sheet.y + \"px\";\n}\n\n_c2 = Animator;\n\nAnimator.prototype.update = function (deltaTime, obj) {\n  this.timer += deltaTime;\n\n  if (this.frame > this.anim.nFrames - 1) {\n    if (this.anim.loop) {\n      this.frame = 0;\n    } else {\n      this.playing = false;\n    }\n  }\n\n  while (this.playing && this.timer >= this.anim.intervals[this.frame]) {\n    this.timer -= this.anim.intervals[this.frame];\n    this.frame++;\n\n    if (this.frame > this.anim.nFrames - 1) {\n      if (this.anim.loop) {\n        this.frame = 0;\n      } else {\n        this.playing = false;\n      }\n    }\n\n    if (this.playing) {\n      // Update\n      obj.sprite = new Vector2(this.anim.frames[this.frame].x * this.cell.x * scaleFact, this.anim.frames[this.frame].y * this.cell.y * scaleFact);\n    }\n  }\n};\n\nAnimator.prototype.setAnim = function (name) {\n  this.anim = this.anims[name];\n  timer = 0;\n  frame = 0;\n};\n\nAnimator.prototype.play = function () {\n  this.playing = true;\n};\n\nAnimator.prototype.reset = function () {\n  timer = 0;\n  frame = 0;\n};\n\nAnimator.prototype.stop = function () {\n  this.playing = false;\n};\n\nvar gobAnim = {\n  \"sheetURL\": \"assets/goblin_sheet.png\",\n  \"sheet\": [220, 25],\n  // Size of spritesheet in px\n  \"cell\": [22, 25],\n  // Size of each cell in px\n  \"offset\": [-3, -15],\n  \"anims\": {\n    \"idle_down\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[4, 0]]\n    },\n    \"idle_up\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[7, 0]]\n    },\n    \"idle_left\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[1, 0]]\n    },\n    \"idle_right\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[3, 0]]\n    },\n    \"walk_left\": {\n      \"loop\": true,\n      \"nFrames\": 2,\n      \"intervals\": [0.1, 0.1],\n      \"frames\": [[0, 0], [1, 0]]\n    },\n    \"walk_right\": {\n      \"loop\": true,\n      \"nFrames\": 2,\n      \"intervals\": [0.1, 0.1],\n      \"frames\": [[2, 0], [3, 0]]\n    },\n    \"walk_down\": {\n      \"loop\": true,\n      \"nFrames\": 4,\n      \"intervals\": [0.07, 0.07, 0.07, 0.07],\n      \"frames\": [[4, 0], [5, 0], [4, 0], [6, 0]]\n    },\n    \"walk_up\": {\n      \"loop\": true,\n      \"nFrames\": 4,\n      \"intervals\": [0.07, 0.07, 0.07, 0.07],\n      \"frames\": [[7, 0], [8, 0], [7, 0], [9, 0]]\n    }\n  }\n};\nvar poofAnim = {\n  \"sheetURL\": \"assets/poof_sheet.png\",\n  \"sheet\": [182, 32],\n  // Size of spritesheet in px\n  \"cell\": [26, 32],\n  // Size of each cell in px\n  \"offset\": [0, 0],\n  \"anims\": {\n    \"poof\": {\n      \"loop\": false,\n      \"nFrames\": 7,\n      \"intervals\": [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],\n      \"frames\": [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0]]\n    }\n  }\n};\nvar linkAnim = {\n  \"sheetURL\": \"assets/link_sheet.png\",\n  \"sheet\": [432, 384],\n  // Size of spritesheet in px\n  \"cell\": [48, 48],\n  // Size of each cell in px\n  \"offset\": [-16, -25],\n  \"anims\": {\n    \"idle_down\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[0, 4]]\n    },\n    \"idle_up\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[0, 5]]\n    },\n    \"idle_right\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[0, 6]]\n    },\n    \"idle_left\": {\n      \"loop\": true,\n      \"nFrames\": 1,\n      \"intervals\": [0.1],\n      \"frames\": [[0, 7]]\n    },\n    \"walk_down\": {\n      \"loop\": true,\n      \"nFrames\": 8,\n      \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n      \"frames\": [[1, 4], [2, 4], [3, 4], [4, 4], [5, 4], [6, 4], [7, 4], [8, 4]]\n    },\n    \"walk_up\": {\n      \"loop\": true,\n      \"nFrames\": 8,\n      \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n      \"frames\": [[1, 5], [2, 5], [3, 5], [4, 5], [5, 5], [6, 5], [7, 5], [8, 5]]\n    },\n    \"walk_right\": {\n      \"loop\": true,\n      \"nFrames\": 8,\n      \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n      \"frames\": [[0, 6], [1, 6], [2, 6], [3, 6], [4, 6], [5, 6], [6, 6], [7, 6]]\n    },\n    \"walk_left\": {\n      \"loop\": true,\n      \"nFrames\": 8,\n      \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n      \"frames\": [[0, 7], [1, 7], [2, 7], [3, 7], [4, 7], [5, 7], [6, 7], [7, 7]]\n    },\n    \"attack_down\": {\n      \"loop\": false,\n      \"nFrames\": 9,\n      \"intervals\": [1 / 60, 1 / 60, 1 / 60, 1 / 60, 1 / 60, 4 / 60, 1 / 60, 1 / 60, 1 / 60],\n      \"frames\": [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0]]\n    },\n    \"attack_up\": {\n      \"loop\": false,\n      \"nFrames\": 9,\n      \"intervals\": [1 / 60, 1 / 60, 1 / 60, 1 / 60, 1 / 60, 4 / 60, 1 / 60, 1 / 60, 1 / 60],\n      \"frames\": [[0, 1], [1, 1], [2, 1], [3, 1], [4, 1], [5, 1], [6, 1], [7, 1], [8, 1]]\n    },\n    \"attack_right\": {\n      \"loop\": false,\n      \"nFrames\": 9,\n      \"intervals\": [1 / 60, 1 / 60, 1 / 60, 1 / 60, 1 / 60, 4 / 60, 1 / 60, 1 / 60, 1 / 60],\n      \"frames\": [[0, 2], [1, 2], [2, 2], [3, 2], [4, 2], [5, 2], [6, 2], [7, 2], [8, 2]]\n    },\n    \"attack_left\": {\n      \"loop\": false,\n      \"nFrames\": 9,\n      \"intervals\": [1 / 60, 1 / 60, 1 / 60, 1 / 60, 1 / 60, 4 / 60, 1 / 60, 1 / 60, 1 / 60],\n      \"frames\": [[0, 3], [1, 3], [2, 3], [3, 3], [4, 3], [5, 3], [6, 3], [7, 3], [8, 3]]\n    }\n  }\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Animation\");\n$RefreshReg$(_c2, \"Animator\");","map":{"version":3,"sources":["/Users/mrinalvig/Documents/Projects/Portfolio/src/Animator.js"],"names":["Animation","name","nFrames","loop","intervals","frames","Animator","animSet","obj","sheetURL","timer","frame","anim","anims","playing","cell","Vector2","sheet","a","j","length","push","spriteSize","spriteOff","offset","elem","style","backgroundImage","width","scaleFact","x","height","y","backgroundSize","prototype","update","deltaTime","sprite","setAnim","play","reset","stop","gobAnim","poofAnim","linkAnim"],"mappings":"AAAA,SAASA,SAAT,GAAqB;AACjB,OAAKC,IAAL,GAAY,EAAZ;AACH,OAAKC,OAAL,GAAe,CAAf;AACG,OAAKC,IAAL,GAAY,KAAZ;AACH,OAAKC,SAAL,GAAiB,EAAjB;AACA,OAAKC,MAAL,GAAc,EAAd;AACA,C,CAED;;;KARSL,S;;AAST,SAASM,QAAT,CAAkBC,OAAlB,EAA2BC,GAA3B,EAAgC;AAC5B,OAAKC,QAAL,GAAgBF,OAAO,CAACE,QAAxB;AACH,OAAKC,KAAL,GAAa,CAAb,CAF+B,CAEf;;AAChB,OAAKC,KAAL,GAAa,CAAb,CAH+B,CAGf;;AACb,OAAKC,IAAL,GAAY,IAAZ,CAJ4B,CAIV;;AACrB,OAAKC,KAAL,GAAa,EAAb,CAL+B,CAKd;;AACd,OAAKC,OAAL,GAAe,KAAf,CAN4B,CAMN;AAEtB;;AACA,OAAKC,IAAL,GAAY,IAAIC,OAAJ,CAAYT,OAAO,CAACQ,IAAR,CAAa,CAAb,CAAZ,EAA6BR,OAAO,CAACQ,IAAR,CAAa,CAAb,CAA7B,CAAZ;AACA,OAAKE,KAAL,GAAa,IAAID,OAAJ,CAAYT,OAAO,CAACU,KAAR,CAAc,CAAd,CAAZ,EAA8BV,OAAO,CAACU,KAAR,CAAc,CAAd,CAA9B,CAAb;;AAEA,OAAK,IAAIC,CAAT,IAAcX,OAAO,CAACM,KAAtB,EAA6B;AACzB,QAAID,IAAI,GAAG,IAAIZ,SAAJ,EAAX;AACAY,IAAAA,IAAI,CAACX,IAAL,GAAYiB,CAAZ;AACAN,IAAAA,IAAI,CAACV,OAAL,GAAeK,OAAO,CAACM,KAAR,CAAcK,CAAd,EAAiBhB,OAAhC;AACAU,IAAAA,IAAI,CAACT,IAAL,GAAYI,OAAO,CAACM,KAAR,CAAcK,CAAd,EAAiBf,IAA7B;AACAS,IAAAA,IAAI,CAACR,SAAL,GAAiBG,OAAO,CAACM,KAAR,CAAcK,CAAd,EAAiBd,SAAlC;;AACA,SAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,OAAO,CAACM,KAAR,CAAcK,CAAd,EAAiBb,MAAjB,CAAwBe,MAA5C,EAAoDD,CAAC,EAArD,EAAyD;AACrDP,MAAAA,IAAI,CAACP,MAAL,CAAYgB,IAAZ,CAAiB,IAAIL,OAAJ,CAAYT,OAAO,CAACM,KAAR,CAAcK,CAAd,EAAiBb,MAAjB,CAAwBc,CAAxB,EAA2B,CAA3B,CAAZ,EAA2CZ,OAAO,CAACM,KAAR,CAAcK,CAAd,EAAiBb,MAAjB,CAAwBc,CAAxB,EAA2B,CAA3B,CAA3C,CAAjB;AACH;;AAED,SAAKN,KAAL,CAAWK,CAAX,IAAgBN,IAAhB;AACH,GAvB2B,CAyB5B;;;AACAJ,EAAAA,GAAG,CAACc,UAAJ,GAAiB,KAAKP,IAAtB;AACAP,EAAAA,GAAG,CAACe,SAAJ,GAAgB,IAAIP,OAAJ,CAAYT,OAAO,CAACiB,MAAR,CAAe,CAAf,CAAZ,EAA+BjB,OAAO,CAACiB,MAAR,CAAe,CAAf,CAA/B,CAAhB;AACAhB,EAAAA,GAAG,CAACiB,IAAJ,CAASC,KAAT,CAAeC,eAAf,GAAiC,UAAU,KAAKlB,QAAf,GAA0B,IAA3D;AACAD,EAAAA,GAAG,CAACiB,IAAJ,CAASC,KAAT,CAAeE,KAAf,GAAuBC,SAAS,GAAGrB,GAAG,CAACc,UAAJ,CAAeQ,CAA3B,GAA+B,IAAtD;AACAtB,EAAAA,GAAG,CAACiB,IAAJ,CAASC,KAAT,CAAeK,MAAf,GAAwBF,SAAS,GAAGrB,GAAG,CAACc,UAAJ,CAAeU,CAA3B,GAA+B,IAAvD;AACAxB,EAAAA,GAAG,CAACiB,IAAJ,CAASC,KAAT,CAAeO,cAAf,GAAgCJ,SAAS,GAAG,KAAKZ,KAAL,CAAWa,CAAvB,GAA2B,KAA3B,GAAmCD,SAAS,GAAG,KAAKZ,KAAL,CAAWe,CAA1D,GAA8D,IAA9F;AAEH;;MAjCQ1B,Q;;AAmCTA,QAAQ,CAAC4B,SAAT,CAAmBC,MAAnB,GAA4B,UAASC,SAAT,EAAoB5B,GAApB,EAAyB;AACpD,OAAKE,KAAL,IAAc0B,SAAd;;AAEA,MAAI,KAAKzB,KAAL,GAAa,KAAKC,IAAL,CAAUV,OAAV,GAAoB,CAArC,EAAwC;AACjC,QAAI,KAAKU,IAAL,CAAUT,IAAd,EAAoB;AAChB,WAAKQ,KAAL,GAAa,CAAb;AACH,KAFD,MAEO;AACH,WAAKG,OAAL,GAAe,KAAf;AACH;AACP;;AAED,SAAO,KAAKA,OAAL,IAAgB,KAAKJ,KAAL,IAAc,KAAKE,IAAL,CAAUR,SAAV,CAAoB,KAAKO,KAAzB,CAArC,EAAsE;AACrE,SAAKD,KAAL,IAAc,KAAKE,IAAL,CAAUR,SAAV,CAAoB,KAAKO,KAAzB,CAAd;AACA,SAAKA,KAAL;;AACA,QAAI,KAAKA,KAAL,GAAa,KAAKC,IAAL,CAAUV,OAAV,GAAoB,CAArC,EAAwC;AACvC,UAAI,KAAKU,IAAL,CAAUT,IAAd,EAAoB;AACnB,aAAKQ,KAAL,GAAa,CAAb;AACA,OAFD,MAEO;AACN,aAAKG,OAAL,GAAe,KAAf;AACA;AACD;;AACD,QAAI,KAAKA,OAAT,EAAkB;AACjB;AACAN,MAAAA,GAAG,CAAC6B,MAAJ,GAAa,IAAIrB,OAAJ,CAAY,KAAKJ,IAAL,CAAUP,MAAV,CAAiB,KAAKM,KAAtB,EAA6BmB,CAA7B,GAAiC,KAAKf,IAAL,CAAUe,CAA3C,GAA+CD,SAA3D,EACN,KAAKjB,IAAL,CAAUP,MAAV,CAAiB,KAAKM,KAAtB,EAA6BqB,CAA7B,GAAiC,KAAKjB,IAAL,CAAUiB,CAA3C,GAA+CH,SADzC,CAAb;AAEA;AACD;AAGD,CA7BD;;AA+BAvB,QAAQ,CAAC4B,SAAT,CAAmBI,OAAnB,GAA6B,UAASrC,IAAT,EAAe;AACxC,OAAKW,IAAL,GAAY,KAAKC,KAAL,CAAWZ,IAAX,CAAZ;AACAS,EAAAA,KAAK,GAAG,CAAR;AACAC,EAAAA,KAAK,GAAG,CAAR;AACH,CAJD;;AAMAL,QAAQ,CAAC4B,SAAT,CAAmBK,IAAnB,GAA0B,YAAW;AACjC,OAAKzB,OAAL,GAAe,IAAf;AACH,CAFD;;AAIAR,QAAQ,CAAC4B,SAAT,CAAmBM,KAAnB,GAA2B,YAAW;AAClC9B,EAAAA,KAAK,GAAG,CAAR;AACAC,EAAAA,KAAK,GAAG,CAAR;AACH,CAHD;;AAKAL,QAAQ,CAAC4B,SAAT,CAAmBO,IAAnB,GAA0B,YAAW;AACjC,OAAK3B,OAAL,GAAe,KAAf;AACH,CAFD;;AAKA,IAAI4B,OAAO,GAAG;AACV,cAAY,yBADF;AAEV,WAAQ,CAAC,GAAD,EAAM,EAAN,CAFE;AAES;AACnB,UAAO,CAAC,EAAD,EAAK,EAAL,CAHG;AAGU;AACpB,YAAS,CAAC,CAAC,CAAF,EAAI,CAAC,EAAL,CAJC;AAKV,WAAS;AACL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,GAAD,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJD,KADR;AAML,eAAW;AACP,cAAQ,IADD;AAEP,iBAAW,CAFJ;AAGP,mBAAa,CAAC,GAAD,CAHN;AAIP,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJH,KANN;AAWL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,GAAD,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJD,KAXR;AAgBL,kBAAc;AACV,cAAQ,IADE;AAEV,iBAAW,CAFD;AAGV,mBAAa,CAAC,GAAD,CAHH;AAIV,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJA,KAhBT;AAqBL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,GAAD,EAAM,GAAN,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR;AAJD,KArBR;AA0BL,kBAAc;AACV,cAAQ,IADE;AAEV,iBAAW,CAFD;AAGV,mBAAa,CAAC,GAAD,EAAM,GAAN,CAHH;AAIV,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR;AAJA,KA1BT;AA+BL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB;AAJD,KA/BR;AAoCL,eAAW;AACP,cAAQ,IADD;AAEP,iBAAW,CAFJ;AAGP,mBAAa,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAHN;AAIP,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB;AAJH;AApCN;AALC,CAAd;AAiDA,IAAIC,QAAQ,GAAG;AACX,cAAY,uBADD;AAEX,WAAQ,CAAC,GAAD,EAAM,EAAN,CAFG;AAEQ;AACnB,UAAO,CAAC,EAAD,EAAK,EAAL,CAHI;AAGS;AACpB,YAAS,CAAC,CAAD,EAAG,CAAH,CAJE;AAKX,WAAS;AACL,YAAQ;AACJ,cAAQ,KADJ;AAEJ,iBAAW,CAFP;AAGJ,mBAAa,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,CAHT;AAIJ,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C;AAJN;AADH;AALE,CAAf;AAcA,IAAIC,QAAQ,GAAG;AACX,cAAY,uBADD;AAEX,WAAQ,CAAC,GAAD,EAAM,GAAN,CAFG;AAES;AACpB,UAAO,CAAC,EAAD,EAAK,EAAL,CAHI;AAGS;AACpB,YAAS,CAAC,CAAC,EAAF,EAAK,CAAC,EAAN,CAJE;AAKX,WAAS;AACL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,GAAD,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJD,KADR;AAML,eAAW;AACP,cAAQ,IADD;AAEP,iBAAW,CAFJ;AAGP,mBAAa,CAAC,GAAD,CAHN;AAIP,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJH,KANN;AAWL,kBAAc;AACV,cAAQ,IADE;AAEV,iBAAW,CAFD;AAGV,mBAAa,CAAC,GAAD,CAHH;AAIV,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJA,KAXT;AAgBL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,GAAD,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD;AAJD,KAhBR;AAqBL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD;AAJD,KArBR;AA0BL,eAAW;AACP,cAAQ,IADD;AAEP,iBAAW,CAFJ;AAGP,mBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,CAHN;AAIP,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD;AAJH,KA1BN;AA+BL,kBAAc;AACV,cAAQ,IADE;AAEV,iBAAW,CAFD;AAGV,mBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,CAHH;AAIV,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD;AAJA,KA/BT;AAoCL,iBAAa;AACT,cAAQ,IADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD;AAJD,KApCR;AAyCX,mBAAe;AACL,cAAQ,KADH;AAEL,iBAAW,CAFN;AAGL,mBAAa,CAAC,IAAE,EAAH,EAAO,IAAE,EAAT,EAAa,IAAE,EAAf,EAAmB,IAAE,EAArB,EAAyB,IAAE,EAA3B,EAA+B,IAAE,EAAjC,EAAqC,IAAE,EAAvC,EAA2C,IAAE,EAA7C,EAAiD,IAAE,EAAnD,CAHR;AAIL,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD,EAAyD,CAAC,CAAD,EAAG,CAAH,CAAzD;AAJL,KAzCJ;AA8CL,iBAAa;AACT,cAAQ,KADC;AAET,iBAAW,CAFF;AAGT,mBAAa,CAAC,IAAE,EAAH,EAAO,IAAE,EAAT,EAAa,IAAE,EAAf,EAAmB,IAAE,EAArB,EAAyB,IAAE,EAA3B,EAA+B,IAAE,EAAjC,EAAqC,IAAE,EAAvC,EAA2C,IAAE,EAA7C,EAAiD,IAAE,EAAnD,CAHJ;AAIT,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD,EAAyD,CAAC,CAAD,EAAG,CAAH,CAAzD;AAJD,KA9CR;AAmDL,oBAAgB;AACZ,cAAQ,KADI;AAEZ,iBAAW,CAFC;AAGZ,mBAAa,CAAC,IAAE,EAAH,EAAO,IAAE,EAAT,EAAa,IAAE,EAAf,EAAmB,IAAE,EAArB,EAAyB,IAAE,EAA3B,EAA+B,IAAE,EAAjC,EAAqC,IAAE,EAAvC,EAA2C,IAAE,EAA7C,EAAiD,IAAE,EAAnD,CAHD;AAIZ,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD,EAAyD,CAAC,CAAD,EAAG,CAAH,CAAzD;AAJE,KAnDX;AAwDL,mBAAe;AACX,cAAQ,KADG;AAEX,iBAAW,CAFA;AAGX,mBAAa,CAAC,IAAE,EAAH,EAAO,IAAE,EAAT,EAAa,IAAE,EAAf,EAAmB,IAAE,EAArB,EAAyB,IAAE,EAA3B,EAA+B,IAAE,EAAjC,EAAqC,IAAE,EAAvC,EAA2C,IAAE,EAA7C,EAAiD,IAAE,EAAnD,CAHF;AAIX,gBAAU,CAAC,CAAC,CAAD,EAAG,CAAH,CAAD,EAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAe,CAAC,CAAD,EAAG,CAAH,CAAf,EAAsB,CAAC,CAAD,EAAG,CAAH,CAAtB,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD,EAAyD,CAAC,CAAD,EAAG,CAAH,CAAzD;AAJC;AAxDV;AALE,CAAf","sourcesContent":["function Animation() {\n    this.name = \"\";\n\tthis.nFrames = 0;\n    this.loop = false;\n\tthis.intervals = [];\n\tthis.frames = [];\n}\n\n// animSet -> Set of animations\nfunction Animator(animSet, obj) {\n    this.sheetURL = animSet.sheetURL;\n\tthis.timer = 0; // Time of current frame\n\tthis.frame = 0; // Current frame\n    this.anim = null; // Current animation\n\tthis.anims = {}; // List of animations\n    this.playing = false; // Whether the animation is playing\n\n    // Load in the animations from the given animation object\n    this.cell = new Vector2(animSet.cell[0], animSet.cell[1]);\n    this.sheet = new Vector2(animSet.sheet[0], animSet.sheet[1]);\n\n    for (var a in animSet.anims) {\n        var anim = new Animation();\n        anim.name = a;\n        anim.nFrames = animSet.anims[a].nFrames;\n        anim.loop = animSet.anims[a].loop;\n        anim.intervals = animSet.anims[a].intervals;\n        for (var j = 0; j < animSet.anims[a].frames.length; j++) {\n            anim.frames.push(new Vector2(animSet.anims[a].frames[j][0], animSet.anims[a].frames[j][1]));\n        }\n\n        this.anims[a] = anim;\n    }\n\n    // Set up the GameObject for the animation\n    obj.spriteSize = this.cell;\n    obj.spriteOff = new Vector2(animSet.offset[0], animSet.offset[1]);\n    obj.elem.style.backgroundImage = \"url('\" + this.sheetURL + \"')\";\n    obj.elem.style.width = scaleFact * obj.spriteSize.x + \"px\";\n    obj.elem.style.height = scaleFact * obj.spriteSize.y + \"px\";\n    obj.elem.style.backgroundSize = scaleFact * this.sheet.x + \"px \" + scaleFact * this.sheet.y + \"px\";\n\n}\n\nAnimator.prototype.update = function(deltaTime, obj) {\n\tthis.timer += deltaTime;\n\n\tif (this.frame > this.anim.nFrames - 1) {\n        if (this.anim.loop) {\n            this.frame = 0;\n        } else {\n            this.playing = false;\n        }\n\t}\n\n\twhile (this.playing && this.timer >= this.anim.intervals[this.frame]) {\n\t\tthis.timer -= this.anim.intervals[this.frame];\n\t\tthis.frame++;\n\t\tif (this.frame > this.anim.nFrames - 1) {\n\t\t\tif (this.anim.loop) {\n\t\t\t\tthis.frame = 0;\n\t\t\t} else {\n\t\t\t\tthis.playing = false;\n\t\t\t}\n\t\t}\n\t\tif (this.playing) {\n\t\t\t// Update\n\t\t\tobj.sprite = new Vector2(this.anim.frames[this.frame].x * this.cell.x * scaleFact,\n\t\t\t\t\t\t\t\t\t this.anim.frames[this.frame].y * this.cell.y * scaleFact);\n\t\t}\n\t}\n\n\n}\n\nAnimator.prototype.setAnim = function(name) {\n    this.anim = this.anims[name];\n    timer = 0;\n    frame = 0;\n}\n\nAnimator.prototype.play = function() {\n    this.playing = true;\n}\n\nAnimator.prototype.reset = function() {\n    timer = 0;\n    frame = 0;\n}\n\nAnimator.prototype.stop = function() {\n    this.playing = false;\n}\n\n\nvar gobAnim = {\n    \"sheetURL\": \"assets/goblin_sheet.png\",\n    \"sheet\":[220, 25], // Size of spritesheet in px\n    \"cell\":[22, 25],    // Size of each cell in px\n    \"offset\":[-3,-15],\n    \"anims\": {\n        \"idle_down\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[4,0]] },\n        \"idle_up\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[7,0]] },\n        \"idle_left\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[1,0]] },\n        \"idle_right\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[3,0]] },\n        \"walk_left\": {\n            \"loop\": true,\n            \"nFrames\": 2,\n            \"intervals\": [0.1, 0.1],\n            \"frames\": [[0,0], [1,0]] },\n        \"walk_right\": {\n            \"loop\": true,\n            \"nFrames\": 2,\n            \"intervals\": [0.1, 0.1],\n            \"frames\": [[2,0], [3,0]] },\n        \"walk_down\": {\n            \"loop\": true,\n            \"nFrames\": 4,\n            \"intervals\": [0.07, 0.07, 0.07, 0.07],\n            \"frames\": [[4,0], [5,0], [4,0], [6,0]] },\n        \"walk_up\": {\n            \"loop\": true,\n            \"nFrames\": 4,\n            \"intervals\": [0.07, 0.07, 0.07, 0.07],\n            \"frames\": [[7,0], [8,0], [7,0], [9,0]] },\n        }\n    };\n\nvar poofAnim = {\n    \"sheetURL\": \"assets/poof_sheet.png\",\n    \"sheet\":[182, 32], // Size of spritesheet in px\n    \"cell\":[26, 32],    // Size of each cell in px\n    \"offset\":[0,0],\n    \"anims\": {\n        \"poof\": {\n            \"loop\": false,\n            \"nFrames\": 7,\n            \"intervals\": [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],\n            \"frames\": [[0,0], [1,0], [2,0], [3,0], [4,0], [5,0], [6,0]] },\n\t}\n};\n\t\nvar linkAnim = {\n    \"sheetURL\": \"assets/link_sheet.png\",\n    \"sheet\":[432, 384], // Size of spritesheet in px\n    \"cell\":[48, 48],    // Size of each cell in px\n    \"offset\":[-16,-25],\n    \"anims\": {\n        \"idle_down\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[0,4]] },\n        \"idle_up\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[0,5]] },\n        \"idle_right\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[0,6]] },\n        \"idle_left\": {\n            \"loop\": true,\n            \"nFrames\": 1,\n            \"intervals\": [0.1],\n            \"frames\": [[0,7]] },\n        \"walk_down\": {\n            \"loop\": true,\n            \"nFrames\": 8,\n            \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n            \"frames\": [[1,4], [2,4], [3,4], [4,4], [5,4], [6,4], [7,4], [8,4]] },\n        \"walk_up\": {\n            \"loop\": true,\n            \"nFrames\": 8,\n            \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n            \"frames\": [[1,5], [2,5], [3,5], [4,5], [5,5], [6,5], [7,5], [8,5]] },\n        \"walk_right\": {\n            \"loop\": true,\n            \"nFrames\": 8,\n            \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n            \"frames\": [[0,6], [1,6], [2,6], [3,6], [4,6], [5,6], [6,6], [7,6]] },\n        \"walk_left\": {\n            \"loop\": true,\n            \"nFrames\": 8,\n            \"intervals\": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],\n            \"frames\": [[0,7], [1,7], [2,7], [3,7], [4,7], [5,7], [6,7], [7,7]] },\n\t\t\"attack_down\": {\n            \"loop\": false,\n            \"nFrames\": 9,\n            \"intervals\": [1/60, 1/60, 1/60, 1/60, 1/60, 4/60, 1/60, 1/60, 1/60],\n            \"frames\": [[0,0], [1,0], [2,0], [3,0], [4,0], [5,0], [6,0], [7,0], [8,0]] },\n        \"attack_up\": {\n            \"loop\": false,\n            \"nFrames\": 9,\n            \"intervals\": [1/60, 1/60, 1/60, 1/60, 1/60, 4/60, 1/60, 1/60, 1/60],\n            \"frames\": [[0,1], [1,1], [2,1], [3,1], [4,1], [5,1], [6,1], [7,1], [8,1]] },\n        \"attack_right\": {\n            \"loop\": false,\n            \"nFrames\": 9,\n            \"intervals\": [1/60, 1/60, 1/60, 1/60, 1/60, 4/60, 1/60, 1/60, 1/60],\n            \"frames\": [[0,2], [1,2], [2,2], [3,2], [4,2], [5,2], [6,2], [7,2], [8,2]] },\n        \"attack_left\": {\n            \"loop\": false,\n            \"nFrames\": 9,\n            \"intervals\": [1/60, 1/60, 1/60, 1/60, 1/60, 4/60, 1/60, 1/60, 1/60],\n            \"frames\": [[0,3], [1,3], [2,3], [3,3], [4,3], [5,3], [6,3], [7,3], [8,3]] },\n        }\n    };\n"]},"metadata":{},"sourceType":"module"}